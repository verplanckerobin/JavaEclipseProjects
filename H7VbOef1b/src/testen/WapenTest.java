package testen;

import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import domein.Wapen;

public class WapenTest 
{

    private Wapen wapen1;

    @BeforeEach
    public void before() 
    {
        wapen1 = new Wapen("colt", 750, 3, 5, false);
    }

    @Test
    public void maakWapen_alleAttributenNormaal_objectWordtGemaakt() 
    {
        Assertions.assertEquals("colt", wapen1.getNaam());
        Assertions.assertEquals(3, wapen1.getNiveau());
        Assertions.assertEquals(750, wapen1.getGewicht(), 0.01);
        Assertions.assertEquals(5, wapen1.getKracht());
        Assertions.assertFalse(wapen1.isGebruikt());
    }

    @Test
    public void maakWapen_niveauTeLaag_werptException() 
    {
    	Assertions.assertThrows(IllegalArgumentException.class, () -> new Wapen("colt", 750, -1, 5, false));
    }

    @Test
    public void maakWapen_niveauTeHoog_werptException() 
    {
    	Assertions.assertThrows(IllegalArgumentException.class, () -> new Wapen("colt", 750, 7, 5, false));
    }

    @Test
    public void maakWapen_krachtNegatieveWaarde_werptException() 
    {
    	Assertions.assertThrows(IllegalArgumentException.class, () -> new Wapen("colt", 750, 3, -1, false));
    }

    @Test
    public void setKracht_krachtNegatieveWaarde_werptException() 
    {
    	Assertions.assertThrows(IllegalArgumentException.class, () -> wapen1.setKracht(-2));
    }

    @Test
    public void setKracht_toegelatenWaarde_wijzigtAttribuut() 
    {
        wapen1.setKracht(55);
        Assertions.assertEquals(55, wapen1.getKracht());
    }

    @Test
    public void setNiveau_toegelatenWaarde_wijzigtAttribuut() 
    {
        wapen1.setNiveau(4);
        Assertions.assertEquals(4, wapen1.getNiveau());
    }

    @Test
    public void toString_nogNietGebruikt_geeftTekstWeergaveObject() 
    {
        Assertions.assertEquals("Wapen colt met gewicht 750.000 kg uit niveau 3 en met kracht 5 nog niet gebruikt.", wapen1.toString());
    }

    @Test
    public void toString_alGebruikt_geeftTekstWeergaveObject() 
    {
        wapen1.setGebruikt(true);
        Assertions.assertEquals("Wapen colt met gewicht 750.000 kg uit niveau 3 en met kracht 5 al gebruikt.", wapen1.toString());
    }
}
